<!DOCTYPE html>
<html>

<head>


    <meta charset="UTF-8">


    <title>15.3 Function オブジェクト</title>


    <link rel="stylesheet" title="Metagraphix Graytone" type="text/css" href="css/ecma.css" media="all"/>
    <link rel="stylesheet" title="Metagraphix NN4" type="text/javascript" href="js/n4.js" media="screen"/>

    <link rel="bookmark" title="Translator"
          href="mailto:TAKI%20%3Coz-07ams&#64;mvh.biglobe.ne.jp%3E"/>
    <link rel="bookmark" title="Site Top"
          href="http://www2u.biglobe.ne.jp/%7Eoz-07ams/"/>
    <link rel="start begin toc" title="ECMA-262 revision 3"
          href="index.html"/>
    <link rel="prev" title="15-2_Object_Objects"
          href="15-2_Object_Objects.html"/>
    <link rel="next" title="15-4_Array_Objects"
          href="15-4_Array_Objects.html"/>

    <link rev="alternate" title="Original Document (PDF format)"
          type="application/pdf" hreflang="en"
          href="http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf"/>


</head>

<body>


<p>
    <a href="#toc">本頁の目次</a>
    <a rel="contents" href="">目次</a>
    <a rel="next" href="15-4_Array_Objects.html">次頁: 15-4_Array_Objects</a>
    <a rel="prev" href="15-2_Object_Objects.html">前頁: 15-2_Object_Objects</a>
</p>


<div class="section level1">
    <h1 id="section-15.3">15.3 Function オブジェクト</h1>


    <div class="section level2">
        <h2 id="section-15.3.1">15.3.1 関数として呼出される Function コンストラクタ</h2>


        <div class="body level2">
            <p>Function がコンストラクタとしてではなく関数として呼出される場合、それは新しい Function オブジェクトを作成し初期化する。したがって、関数呼び出し Function(…)
                は、同じ引数をとるオブジェクト生成式 <code class="keyword">new</code> Function(…) と等価である。</p>
        </div>
        <!-- END of 15.3.1 Body -->


        <div class="section level3">
            <h3 id="section-15.3.1.1">15.3.1.1 Function (p1, p2, … , pn, body)</h3>


            <div class="body level3">
                <p>Function 関数がある引数 <var>p1</var>, <var>p2</var>, …, <var>pn</var>, <var>body</var> (<var>n</var> が
                    0、つまり、&quot;p&quot; 引数がないかもしれず、 <var>body</var> も提供されないかもしれない) で呼出される場合、次のステップが取られる:</p>
                <ol>
                    <li>Function コンストラクタが同じ引数で呼出されたかのように(<a
                            href="15-3_Function_Objects.html#section-15.3.2.1">15.3.2.1</a>)、新しい Function オブジェクトを作成して返す。
                    </li>
                </ol>
            </div>
            <!-- END of 15.3.1.1 Body -->

        </div>
        <!-- END of 15.3.1.1 -->

    </div>
    <!-- END of 15.3.1 -->


    <div class="section level2">
        <h2 id="section-15.3.2">15.3.2 Function コンストラクタ</h2>


        <div class="body level2">
            <p>Function が <code class="keyword">new</code> 式の一部で呼出されるとき、それはコンストラクタである: それは新たに生成されたオブジェクトを初期化する。</p>
        </div>
        <!-- END of 15.3.2 Body -->


        <div class="section level3">
            <h3 id="section-15.3.2.1">15.3.2.1 new Function (p1, p2, … , pn, body)</h3>


            <div class="body level3">
                <p>最後の引数は、関数の本文(実行可能なコード)を指定する; 先行する引数は仮引数を指定する。Function コンストラクタががある引数 <var>p1</var>, <var>p2</var>, …,
                    <var>pn</var>, <var>body</var> (<var>n</var> が 0、つまり、&quot;p&quot; 引数がないかもしれず、 <var>body</var>
                    も提供されないかもしれない) で呼出される場合、次のステップが取られる:</p>
                <ol>
                    <li><var>P</var> を空文字列とする。</li>
                    <li>引数が与えられなければ、 <var>body</var> を空文字列として、ステップ 13 へ。</li>
                    <li>引数が 1 つ与えられたならば、<var>body</var> をその引数として、ステップ 13 へ。</li>
                    <li>Result(4) を最初の引数とする。</li>
                    <li><var>P</var> を ToString(Result(4)) とする。</li>
                    <li><var>k</var> を 2 とする。</li>
                    <li><var>k</var> が引数の数と等しければ、 <var>body</var> を <var>k</var> 番目の引数として、ステップ 13 へ。</li>
                    <li>Result(8) を <var>k</var> 番目の引数とする。</li>
                    <li>ToString(Result(8)) を呼出す。</li>
                    <li><var>P</var> を 前の <var>P</var> の値, 文字列 &quot;,&quot; (カンマ), Result(9) を連結した結果とする。</li>
                    <li><var>k</var> を 1 増加させる。</li>
                    <li>ステップ 7 へ。</li>
                    <li>ToString(<var>body</var>) を呼出す。</li>
                    <li><var>P</var> が <a
                            href="13_Function_Definition.html#FormalParameterList"
                            class="nonterminal">FormalParameterList</a><sub>opt</sub> として解析不能ならば、例外 SyntaxError を投げる。
                    </li>
                    <li><var>body</var> が <a
                            href="13_Function_Definition.html#FunctionBody"
                            class="nonterminal">FunctionBody</a> として解析不能であれば、例外 SyntaxError を投げる。
                    </li>
                    <li>
                        <a href="13_Function_Definition.html#FormalParameterList"
                           class="nonterminal">FormalParameterList</a><sub>opt</sub> として <var>P</var> を解析したもの、 <a
                            href="13_Function_Definition.html#FunctionBody"
                            class="nonterminal">FunctionBody</a> として <var>body</var> を解析したものをパラメータに渡し、13.2 に規定されるように、新規
                        Function オブジェクトを生成する。Scope パラメータとしてグローバルオブジェクトから構成されるスコープチェーン内を渡す。
                    </li>
                    <li>Result(16) を返す。</li>
                </ol>
                <p>prototype プロパティは、関数がコンストラクタとして使用される可能性に備え、すべての関数に自動的に作成される。</p>

                <div class="note">
                    <p><b>NOTE</b> 指定される各仮引数のために 1 引数を持つのは許容されるが、必須ではない。</p>

                    <p>例えば、次の 3 つの表現はすべて同じ結果を生む:</p>
                </div>

<pre>new Function("a", "b", "c", "return a+b+c")
new Function("a, b, c", "return a+b+c")
new Function("a,b", "c", "return a+b+c")</pre>


            </div>
            <!-- END of 15.3.2.1 Body -->

        </div>
        <!-- END of 15.3.2.1 -->

    </div>
    <!-- END of 15.3.2 -->


    <div class="section level2">
        <h2 id="section-15.3.3">15.3.3 Function コンストラクタのプロパティ</h2>


        <div class="body level2">
            <p>Function コンストラクタの内部 [[Prototype]] プロパティは Function プロトタイプオブジェクト (<a
                    href="15-3_Function_Objects.html#section-15.3.4">15.3.4</a>) である。 内部プロパティと length プロパティ (値は1) の他に、
                Function コンストラクタは次のプロパティを持つ:</p>
        </div>
        <!-- END of 15.3.3 Body -->


        <div class="section level3">
            <h3 id="section-15.3.3.1">15.3.3.1 Function.prototype</h3>


            <div class="body level3">
                <p>Function.prototype の初期値は Function プロトタイプオブジェクト (<a href="15-3_Function_Objects.html#section-15.3.4">15.3.4</a>)
                    である。</p>

                <p>このプロパティは属性 { DontEnum, DontDelete, ReadOnly } である。</p>
            </div>
            <!-- END of 15.3.3.1 Body -->

        </div>
        <!-- END of 15.3.3.1 -->

    </div>
    <!-- END of 15.3.3 -->


    <div class="section level2">
        <h2 id="section-15.3.4">15.3.4 Function プロトタイプオブジェクトのプロパティ</h2>


        <div class="body level2">
            <p>Function プロトタイプオブジェクトはそれ自体が Function オブジェクトであり (その [[Class]] が &quot;Function&quot;
                である)、起動された時、どんな引数も受け付け、undefined を返す。</p>

            <p>Function プロトタイプオブジェクトの内部 [[Prototype]] プロパティの値は、Object プロトタイプオブジェクト(<a
                    href="15-3_Function_Objects.html#section-15.3.2.1">15.3.2.1</a>) である。</p>

            <p>それは &quot;空の本文&quot; をもつファンクションである; 呼び出されれば、単に undefined を返す。</p>

            <p>Function プロトタイプオブジェクトは、自分自身の valueOf プロパティを持たない; だが、Object プロトタイプオブジェクトの valueOf プロパティを継承する。</p>
        </div>
        <!-- END of 15.3.4 Body -->


        <div class="section level3">
            <h3 id="section-15.3.4.1">15.3.4.1 Function.prototype.constructor</h3>


            <div class="body level3">
                <p>Function.prototype.constructor の初期値は、組込み Function コンストラクタである。</p>
            </div>
            <!-- END of 15.3.4.1 Body -->

        </div>
        <!-- END of 15.3.4.1 -->


        <div class="section level3">
            <h3 id="section-15.3.4.2">15.3.4.2 Function.prototype.toString ( )</h3>


            <div class="body level3">
                <p>関数の実装依存の表現が返される。この表現は <a
                        href="13_Function_Definition.html#FunctionDeclaration"
                        class="nonterminal">FunctionDeclaration</a> の構文を持つ。表現文字列内の空白、行終端子、セミコロンの使用及び配置は実装依存であることに特に注意。
                </p>

                <p><code>toString</code> 関数は汎用的ではない; その <code class="keyword">this</code> 値が Function オブジェクトでなければ、例外
                    TypeError を投げる。それゆえ、メソッドとして他の種類のオブジェクトに転用できない。</p>
            </div>
            <!-- END of 15.3.4.2 Body -->

        </div>
        <!-- END of 15.3.4.2 -->


        <div class="section level3">
            <h3 id="section-15.3.4.3">15.3.4.3 Function.prototype.apply (thisArg, argArray)</h3>


            <div class="body level3">
                <p><code>apply</code> メソッドは 2 つの引数、 <var>thisArg</var> および <var>argArray</var> をとり、オブジェクトの [[Call]]
                    プロパティを使用して、関数呼出しを実行する。オブジェクトが [[Call]] プロパティを持っていない場合、例外 TypeError が投げられる。</p>

                <p><var>thisArg</var> が null または undefined の場合、呼出された関数は <code class="keyword">this</code>
                    値としてグローバルオブジェクトを渡される。そうでなければ、呼出された関数は <code class="keyword">this</code> 値として
                    ToObject(<var>thisArg</var>) を渡される。</p>

                <p><var>argArray</var> が null または undefined の場合、呼出された関数は引数を渡されない。そうでなければ、 <var>argArray</var> が配列でも
                    arguments オブジェクト (<a href="10_Execution_Contexts.html#section-10.1.8">10.1.8</a> 参照) でもない場合、例外
                    TypeError が投げられる。 <var>argArray</var>が 配列または arugments オブジェクトのいずれかである場合、関数は
                    (ToUint32(<var>argArray</var>.length)) 個の引数<var>argArray</var>[0], <var>argArray</var>[1], ... <var>argArray</var>[ToUint32(<var>argArray</var>.length)-1]
                    を渡される。</p>

                <p><code>apply</code> メソッドの length プロパティは 2 である。</p>
            </div>
            <!-- END of 15.3.4.3 Body -->

        </div>
        <!-- END of 15.3.4.3 -->


        <div class="section level3">
            <h3 id="section-15.3.4.4">15.3.4.4 Function.prototype.call (thisArg [ , arg1 [ , arg2, … ] ] )</h3>


            <div class="body level3">
                <p><code>call</code> メソッドは 1 つ以上の引数を取り、<var>thisArg</var> および(選択的に) <var>arg1</var>, <var>arg2</var>,
                    ... をとり、オブジェクトの[[Call]] プロパティを使用して、関数呼び出しを実行する。オブジェクトが [[Call]] プロパティを持っていない場合、TypeError
                    例外が投げられる。呼出された関数は、引数として <var>arg1</var>、<var>arg2</var> などを渡される。 <var>thisArg</var> が null または
                    undefined の場合、呼出された関数は <code class="keyword">this</code> 値としてグローバルオブジェクトを渡される。そうでなければ、呼出された関数は <code
                            class="keyword">this</code> 値として ToObject(<var>thisArg</var>) を渡される。 <code>call</code> メソッドの
                    length プロパティは 1 である。</p>
            </div>
            <!-- END of 15.3.4.4 Body -->

        </div>
        <!-- END of 15.3.4.4 -->

    </div>
    <!-- END of 15.3.4 -->


    <div class="section level2">
        <h2 id="section-15.3.5">15.3.5 Function インスタンスのプロパティ</h2>


        <div class="body level2">
            <p>必須の内部プロパティに加えて、各ファンクション実体は [[Call]] プロパティ、 [[Construct]] プロパティ、 [[Scope]] プロパティ (<a
                    href="8_Types.html#section-8.6.2">8.6.2</a> 及び 13.2 を参照) を持つ。[[Class]] プロパティの値は &quot;Function&quot;
                である。</p>
        </div>
        <!-- END of 15.3.5 Body -->


        <div class="section level3">
            <h3 id="section-15.3.5.1">15.3.5.1 length</h3>


            <div class="body level3">
                <p><var>length</var> プロパティの値は通常、関数に期待される &quot;典型的な&quot; 引数の数を示す整数\である。だが、言語はそれ以外の数の引数\で関数が呼び出されることを許す。<var>length</var>
                    プロパティによって指定される以外の数の引数\で呼び出された時の関数の振舞いは、関数に依存する。このプロパティは属性 { DontDelete, ReadOnly, DontEnum } である。
                </p>
            </div>
            <!-- END of 15.3.5.1 Body -->

        </div>
        <!-- END of 15.3.5.1 -->


        <div class="section level3">
            <h3 id="section-15.3.5.2">15.3.5.2 prototype</h3>


            <div class="body level3">
                <p><var>prototype</var> プロパティの値は、Function オブジェクトがコンストラクタとして呼出される前に、新しく作成されるオブジェクトの内部
                    [[<var>prototype</var>]] プロパティの初期化に使用される。このプロパティは属性 { DontDelete } である。</p>
            </div>
            <!-- END of 15.3.5.2 Body -->

        </div>
        <!-- END of 15.3.5.2 -->


        <div class="section level3">
            <h3 id="section-15.3.5.3">15.3.5.3 [[HasInstance]] (V)</h3>


            <div class="body level3">
                <p><var>F</var> を Function オブジェクトと仮定する。F の [[HasInstance]] メソッドが値 <var>V</var> で呼出されるとき、次のステップが取られる：</p>
                <ol>
                    <li><var>V</var> がオブジェクトでなければ、 false を返す。</li>
                    <li><var>F</var> の [[Get]] メソッドを、プロパティ名 &quot;prototype&quot; で呼出す。</li>
                    <li><var>O</var> を Result(2) とする。</li>
                    <li><var>O</var> がオブジェクトでなければ、TypeError 例外を投げる。</li>
                    <li><var>V</var> を <var>V</var> の [[Prototype]] プロパティの値とする。</li>
                    <li><var>V</var> が null ならば、false を返す。</li>
                    <li><var>O</var> と <var>V</var> が同じオブジェクトを参照している、あるいは</li>
                    <li> 互いに連結されたオブジェクト(<a href="13_Function_Definition.html#section-13.1.2">13.1.2</a>)を参照していれば、true
                        を返す。
                    </li>
                    <li>ステップ 5 へ.</li>
                </ol>
            </div>
            <!-- END of 15.3.5.3 Body -->

        </div>
        <!-- END of 15.3.5.3 -->

    </div>
    <!-- END of 15.3.5 -->

</div>
<!-- END of 15.3 -->

<h1>Page Contents</h1>
<ul id="toc">
    <li><a href="#section-15.3">15.3 Function オブジェクト</a>
        <ul>
            <li><a href="#section-15.3.1">15.3.1 関数として呼出される Function コンストラクタ</a>
                <ul>
                    <li><a href="#section-15.3.1.1">15.3.1.1 Function (p1, p2, … , pn, body)</a></li>
                </ul>
            </li>
            <li><a href="#section-15.3.2">15.3.2 Function コンストラクタ</a>
                <ul>
                    <li><a href="#section-15.3.2.1">15.3.2.1 new Function (p1, p2, … , pn, body)</a></li>
                </ul>
            </li>
            <li><a href="#section-15.3.3">15.3.3 Function コンストラクタのプロパティ</a>
                <ul>
                    <li><a href="#section-15.3.3.1">15.3.3.1 Function.prototype</a></li>
                </ul>
            </li>
            <li><a href="#section-15.3.4">15.3.4 Function プロトタイプオブジェクトのプロパティ</a>
                <ul>
                    <li><a href="#section-15.3.4.1">15.3.4.1 Function.prototype.constructor</a></li>
                    <li><a href="#section-15.3.4.2">15.3.4.2 Function.prototype.toString ( )</a></li>
                    <li><a href="#section-15.3.4.3">15.3.4.3 Function.prototype.apply (thisArg, argArray)</a></li>
                    <li><a href="#section-15.3.4.4">15.3.4.4 Function.prototype.call (thisArg [ , arg1 [ , arg2, … ] ]
                        )</a></li>
                </ul>
            </li>
            <li><a href="#section-15.3.5">15.3.5 Function インスタンスのプロパティ</a>
                <ul>
                    <li><a href="#section-15.3.5.1">15.3.5.1 length</a></li>
                    <li><a href="#section-15.3.5.2">15.3.5.2 prototype</a></li>
                    <li><a href="#section-15.3.5.3">15.3.5.3 [[HasInstance]] (V)</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul>

<address>

    Translate: <span>Sun Apr  7 08:52:56 2002</span>

<span>TAKI &lt;<a rel="bookmark" title="Translator"
                  href="mailto:TAKI%20%3Coz-07ams@mvh.biglobe.ne.jp%3E"
        >oz-07ams&#64;mvh.biglobe.ne.jp</a>&gt;</span>

</address>

</body>

</html>


<!--
     FILE ARCHIVED ON 21:10:51 Aug 2, 2014 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 16:14:57 Feb 6, 2015.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
